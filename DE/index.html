<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Today?</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
   

    <style>
        :root {
            --background-color: #0a0a0a;
            --text-color: #f0f0f0;
            --card-background: #1a1a1a;
            --category-color: #888888;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --accept-glow: rgba(50, 205, 50, 0.6);
            --reject-glow: rgba(255, 69, 0, 0.6);
        }

        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        #app-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100%;
            padding: 2.5vh 5vw;
            box-sizing: border-box;
            position: relative;
        }

        h1 {
            font-size: clamp(1.75rem, 8vw, 2.5rem);
            font-weight: 800;
            margin: 2.5vh 0 5vh 0;
            text-align: center;
            color: var(--text-color);
        }
        em
        {
            font-style: italic;
        }
        #streak-flame {
            position: absolute;
            top: 3.5vh;
            right: 5vw;
            width: clamp(30px, 10vw, 50px);
            height: clamp(30px, 10vw, 50px);
            transition: filter 0.5s ease-in-out, transform 0.5s ease-in-out;
        }

        #streak-flame svg {
            width: 100%;
            height: 100%;
            fill: #f0f0f0;
            transition: fill 0.5s ease-in-out;
        }
        
        /* Flame Intensity Levels */
        #streak-flame.level-0 { filter: drop-shadow(0 0 1px #444); transform: scale(0.9); }
        #streak-flame.level-0 svg { fill: #666; }
        #streak-flame.level-1 { filter: drop-shadow(0 0 5px #ff8c00); transform: scale(1); }
        #streak-flame.level-1 svg { fill: #ff8c00; animation: flicker 3s infinite linear; }
        #streak-flame.level-2 { filter: drop-shadow(0 0 10px #ff4500) drop-shadow(0 0 2px #ff8c00); transform: scale(1.05); }
        #streak-flame.level-2 svg { fill: #ff4500; animation: flicker 2s infinite linear; }
        #streak-flame.level-3 { filter: drop-shadow(0 0 15px #ff0000) drop-shadow(0 0 5px #ff4500); transform: scale(1.1); }
        #streak-flame.level-3 svg { fill: #ff0000; animation: flicker 1.5s infinite linear; }
        #streak-flame.level-4 { filter: drop-shadow(0 0 25px #ff0000) drop-shadow(0 0 10px #ff4500) drop-shadow(0 0 2px #ffff00); transform: scale(1.15); }
        #streak-flame.level-4 svg { fill: #ff1493; animation: flicker 1s infinite linear; }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        #card-stack {
            position: relative;
            width: 90vw;
            height: 65vh;
            max-width: 400px;
            max-height: 600px;
        }

        .task-card {
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--card-background);
            border-radius: 25px;
            box-shadow: 0 10px 30px var(--shadow-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            cursor: grab;
            user-select: none;
            touch-action: none;
            will-change: transform, opacity;
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }
        
        .task-card.exiting {
            transition: transform 0.5s ease-in, opacity 0.5s ease-in;
        }

        .task-card .task-text {
            font-size: clamp(1.5rem, 7vw, 2.25rem);
            font-weight: 700;
            text-align: center;
            margin: 0;
            line-height: 1.3;
        }

        .task-card .category-text {
            font-size: clamp(0.9rem, 4vw, 1.1rem);
            font-weight: 400;
            color: var(--category-color);
            margin-top: 15px;
        }
        
        .swipe-glow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 25px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        
        .swipe-glow.accept {
            background: radial-gradient(circle at 90% 50%, var(--accept-glow) 0%, transparent 70%);
        }

        .swipe-glow.reject {
            background: radial-gradient(circle at 10% 50%, var(--reject-glow) 0%, transparent 70%);
        }

    </style>
</head>
<body>

    <div id="app-container">
        <h1><em>Was soll ich machen?</em></h1>
        <div id="streak-flame" class="level-0">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C12 2 4.29167 11.3333 4.29167 15.4167C4.29167 19.5 7.79167 22 12 22C16.2083 22 19.7083 19.5 19.7083 15.4167C19.7083 11.3333 12 2 12 2Z" />
            </svg>
        </div>
        <div id="card-stack"></div>
    </div>

    <script>
       const tasks = [
  { task: "Schicke eine nette Nachricht an einen Freund", category: "Leute & Kopf" },
  { task: "Mach 15 Burpees", category: "Körper & Gesundheit" },
  { task: "Höre eine Sure mit voller Aufmerksamkeit", category: "Kopf & Ruhe" },
  { task: "Plane die 3 wichtigsten Aufgaben für morgen", category: "Produktivität" },
  { task: "Lerne ein neues Wort in einer Fremdsprache", category: "Kopf & Wissen" },
  { task: "Skizziere etwas Einfaches", category: "Kreativ" },
  { task: "Mache einen 10-minütigen Spaziergang", category: "Körper & Gesundheit" },
  { task: "Rufe jemanden an, den du magst, und frage, wie es ihm geht", category: "Leute & Kopf" },
  { task: "Halte eine Planke für 1 Minute", category: "Körper & Gesundheit" },
  { task: "Notiere eine Lektion, die du heute gelernt hast", category: "Reflexion" },
  { task: "Organisiere deinen Schreibtisch", category: "Produktivität" },
  { task: "Schreibe eine neue Idee auf", category: "Kreativ" },
  { task: "Bete 2 Rakat", category: "Kopf & Ruhe" },
  { task: "Mache 15 Sit-ups", category: "Körper & Gesundheit" },
  { task: "Wirf einen unnötigen Gegenstand weg", category: "Produktivität" },
  { task: "Schreibe zwei Sätze auf, wie es dir gerade geht", category: "Reflexion" },
  { task: "Iss ein Stück Obst", category: "Körper & Gesundheit" },
  { task: "Beantworte eine wichtige Nachricht oder E-Mail", category: "Produktivität" },
  { task: "Stehe auf und strecke deinen ganzen Körper", category: "Körper & Gesundheit" },
  { task: "Schreibe ein kurzes Gedicht mit zwei Zeilen", category: "Kreativ" },
  { task: "Frage jemanden, wie sein Tag war", category: "Leute & Kopf" },
  { task: "Mache 20 Hampelmänner", category: "Körper & Gesundheit" },
  { task: "Reflektiere über einen Fehler und wie du ihn verbessern kannst", category: "Reflexion" },
  { task: "Lerne einen Koranvers oder Hadith auswendig", category: "Kopf & Wissen" },
  { task: "Lösche fünf unnötige Dateien von deinem Handy", category: "Produktivität" },
  { task: "Denke dir drei Ideen aus, um dein Leben zu verbessern", category: "Kreativ" },
  { task: "Gib jemandem ein ehrliches Kompliment", category: "Leute & Kopf" },
  { task: "Mache drei Minuten progressive Muskelentspannung", category: "Kopf & Ruhe" },
  { task: "Lies einen Artikel über ein neues Thema", category: "Kopf & Wissen" },
  { task: "Nimm Kontakt zu einem Freund wieder auf, mit dem du lange nicht gesprochen hast", category: "Leute & Kopf" },
  { task: "Schreibe deine heutige wichtigste Aufgabe auf", category: "Reflexion" },
  { task: "Mache ein kreatives Foto mit deinem Handy", category: "Kreativ" },
  { task: "Sieh dir ein kurzes Lernvideo an", category: "Kopf & Wissen" },
  { task: "Mache dein Bett", category: "Produktivität" },
  { task: "Setze dich zwei Minuten still hin", category: "Kopf & Ruhe" },
  { task: "Notiere, was du heute gut gemacht hast", category: "Reflexion" },
  { task: "Dehne deinen Rücken drei Minuten", category: "Körper & Gesundheit" },
  { task: "Lerne einen neuen Fakt", category: "Kopf & Wissen" },
  { task: "Sortiere einen deiner Ordner oder eine deiner Schubladen", category: "Produktivität" },
  { task: "Schließe die Augen und konzentriere dich auf deinen Atem", category: "Kopf & Ruhe" },
  { task: "Erfinde eine kurze Geschichte in drei Sätzen", category: "Kreativ" }
];



        const cardStack = document.getElementById('card-stack');
        const streakFlame = document.getElementById('streak-flame');

        let currentTaskIndex = 0;
        let streakCount = 0;

        function createCard(taskData) {
            const card = document.createElement('div');
            card.className = 'task-card';

            const taskText = document.createElement('p');
            taskText.className = 'task-text';
            taskText.textContent = taskData.task;

            const categoryText = document.createElement('p');
            categoryText.className = 'category-text';
            categoryText.textContent = taskData.category;
            
            const acceptGlow = document.createElement('div');
            acceptGlow.className = 'swipe-glow accept';

            const rejectGlow = document.createElement('div');
            rejectGlow.className = 'swipe-glow reject';

            card.appendChild(acceptGlow);
            card.appendChild(rejectGlow);
            card.appendChild(taskText);
            card.appendChild(categoryText);
            
            addSwipeListeners(card);

            return card;
        }
        
        function addNextCard() {
            if (currentTaskIndex >= tasks.length) {
                currentTaskIndex = 0;
            }
            const nextCard = createCard(tasks[currentTaskIndex]);
            cardStack.appendChild(nextCard);
            currentTaskIndex++;

            // Preload the card after that
           const preloadIndex = currentTaskIndex % tasks.length;
            const preloadCard = createCard(tasks[preloadIndex]);
           preloadCard.style.transform = 'scale(0.95) translateY(20px)';
            preloadCard.style.zIndex = '-1';
            cardStack.insertBefore(preloadCard, nextCard);
        }

        function updateStreakFlame() {
            let level = 0;
            if (streakCount > 0 && streakCount <= 2) level = 1;
            else if (streakCount > 2 && streakCount <= 5) level = 2;
            else if (streakCount > 5 && streakCount <= 10) level = 3;
            else if (streakCount > 10) level = 4;
            
            streakFlame.className = `level-${level}`;
        }

        function addSwipeListeners(card) {
            let startX = 0;
            let startY = 0;
            let isDragging = false;
            const threshold = window.innerWidth / 4;

            function onStart(e) {
                startX = e.type.includes('mouse') ? e.pageX : e.touches[0].pageX;
                startY = e.type.includes('mouse') ? e.pageY : e.touches[0].pageY;
                isDragging = true;
                card.style.transition = 'none';
                card.style.cursor = 'grabbing';
            }

            function onMove(e) {
                if (!isDragging) return;
                
                const currentX = e.type.includes('mouse') ? e.pageX : e.touches[0].pageX;
                const diffX = currentX - startX;
                const rotate = diffX * 0.1;
                
                card.style.transform = `translateX(${diffX}px) rotate(${rotate}deg)`;

                const opacity = Math.min(Math.abs(diffX) / threshold, 1);
                if (diffX > 0) {
                    card.querySelector('.accept').style.opacity = opacity;
                    card.querySelector('.reject').style.opacity = 0;
                } else {
                    card.querySelector('.reject').style.opacity = opacity;
                    card.querySelector('.accept').style.opacity = 0;
                }
            }

            function onEnd(e) {
                if (!isDragging) return;
                isDragging = false;
                
                const finalX = e.type.includes('mouse') ? e.pageX : e.changedTouches[0].pageX;
                const diffX = finalX - startX;
                
                card.style.transition = 'transform 0.3s ease-out, opacity 0.3s ease-out';
                card.querySelector('.swipe-glow').style.transition = 'opacity 0.3s ease';
                card.style.cursor = 'grab';

                if (Math.abs(diffX) > threshold) {
                    const direction = diffX > 0 ? 1 : -1;
                    card.classList.add('exiting');
                    card.style.transform = `translateX(${direction * window.innerWidth}px) rotate(${direction * 20}deg)`;
                    card.style.opacity = '0';
                    
                    if (direction === 1) {
                        streakCount++;
                    } else {
                        // You could reset the streak here if desired
                        // streakCount = 0;
                    }
                    updateStreakFlame();

                    setTimeout(() => {
                        card.remove();
                        const nextCard = cardStack.querySelector('.task-card');
                        if (nextCard) {
                            nextCard.style.transform = 'none';
                            nextCard.style.zIndex = '0';
                            addNextCard();
                        }
                    }, 500);

                } else {
                    card.style.transform = 'translateX(0) rotate(0)';
                    card.querySelector('.accept').style.opacity = 0;
                    card.querySelector('.reject').style.opacity = 0;
                }
            }
            
            card.addEventListener('mousedown', onStart);
            card.addEventListener('mousemove', onMove);
            card.addEventListener('mouseup', onEnd);
            card.addEventListener('mouseleave', onEnd);

            card.addEventListener('touchstart', onStart, { passive: true });
            card.addEventListener('touchmove', onMove, { passive: true });
            card.addEventListener('touchend', onEnd);
        }

        // Initial setup
        document.addEventListener('DOMContentLoaded', () => {
            addNextCard();
            updateStreakFlame();
        });

    </script>
</body>
</html>

